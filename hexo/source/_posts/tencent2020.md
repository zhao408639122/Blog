---
title: 腾讯暑期实习面试
date: 2020-03-24 16:55:07
tags:
---

3.26upd. 3.24面完晚上就变成进复试了，洗脸的时候又想起一个问题，补充到了博客里。

暂时还没灰掉，要是有下一轮面试继续更新

## 笔试

一开始要机试，考了一道算法题，大概是问每个数两边的递增子序列有多长，不能跳过一个较高的元素

比如 1 3 1 2 3 5 从第一个点一定是 1 3 5， 然后对两边长度求和，首先考虑向前做一次向后做一次，显然是可以递推的，这样就变成了找每个数字后面第一个比它大的数字，使用单调栈，很容易的就能解决这个问题。

但是实际过程中我是很慌的，因为一共只有半个小时，我一开始想到了主席树这种离谱的办法，仔细思考，还有十五分钟的时候才想到了正确解法，三分钟写完了这道题。



## 一面

笔试完第二天就直接面试了，电话面试，电话特别准时，预计2：00面试2：01就打过来了。

先让我做自我介绍，然后我说我是大二的，面试官说他想要大三的毕业能直接进组的，然后本来想直接拒我，象征性地问了我几个问题

+ 自动指针 我答出来之后让我说一下 weak_ptr为什么能辅助 shared_ptr，忘记了，回答不清楚
+ 多继承的缺点 答出来一个 歧义，还有 基类重复
+ 渲染管线中模度测试是什么  忘记这个了 回答忘记了，但是说了深度测试和混合
+ 还有几个编程的问题，大概都回答了

他说这边就算了，会把我推给其他面试官，感觉我编程能力还可以。

## 二面

3.24UPD

3.23下午加微信，问有没有时间，毅然旷掉了体育来面试。

这次面试尽管特别紧张，但是面试的感觉很棒，因为是技术面，面试官除了很多题，答不上来的面试官也会去引导你，感觉很棒。

+ 多态的实现原理，第一个问题就忘了，一边介绍多态一遍在脑海中疯狂搜索，记得老师曾经讲过，想了一会没想起来，尴尬的说不太了解。
+ 因为第一个问题面试官开始问我有没有系统的学过C++，我说有的我是计算机系的，太尴尬了，他问我关于计算机图形学的知识，问我有没有系统的学过，我说正在学，于是他又问我最近在看什么书，我说再看unity shader和计算机图形学的教程，他说有时间可以看一下C++ primer。
+ 计算一条射线是否通过一个球体，答了向量叉积然后用模长除以一下起点到圆心的距离，可能没表达明白他说我大体思路基本对其实可以用三角函数直接求，我说我以为必须用向量。
+ 因为上面提到了向量，描述一下叉积和点乘，我说了一下代数和几何定义。点乘的几何意义有点忘记，说关于投影的一个东西带过了，实际就是投影与向量的乘积。
+ 计算一条射线是否通过一个立方体，我说从起点到立方体的各个顶点连一条线，然后会围成一个区域，类似投影正交变换的过程，找一个平面，看看这条射线是否在这个区域里面，他问我这个区域的形状会是怎么样的？ 三角形 到 六边形。不过答题的时候有点慌好像说了四边形，记不太清了。

``` cpp
void GetMemory( char *p )
{
    p = (char *) malloc( 100 );
}
void Test( void )
{
    char *str = NULL;
    GetMemory( str );
    strcpy( str, "hello world" );
    printf( str );
}
int main() 
{
    Test();
}
```

+ 这个程序结果是什么，我很2b地直接说了一句 hello world，他笑了一下说我会问你这么简单的问题吗？

然后我说p的作用域不对，str指针还是NULL的。

```cpp
Struct S
{ 
    int a;
    byte b;
    float c;
    byte d;
    byte e;
}
S s;
sizeof(s) = ?
32位系统
```

+ 回答了14，但是自己运行了一下是16，枯了，以为最后两位不会对齐，他没有纠正我，应该是觉得我讲了对齐的基本原理就可以，这个一定要记住，原来最后两位也是要对齐的。

```cpp
char a[] = "Hello"; char b[] = "Hello";
a == b ?

char* a = "Hello"; char* b = "Hello";
a == b ?

char a[] = "Hello"; char* b = "Hello"; 
sizeof(a) = ?, sizeof(b) = ?
```

+ 这几个问题是依次提出来的，首先第一个问题我说应该是相同的，因为会优化成const，然后他又提出第二个问题，我就懵了，面试官和我说a[]是当成一个类来处理的，然后又问了我第三题，那就是6和4了。
+ 让我动手实现一个 MemoryCopy，规定传入两个 void*，我不会判定特殊情况，我说我以前也遇到过这种情况，但是在网上查没有找到类似的函数来判断就放弃了，他说确实没有这种函数，后来查了一下可以用assert来判断未分配内存的空间，他问我可能出现哪些错误，我说内存溢出，他问我还有吗，应该还有内存重叠我没想到，然后问了我一下void能取值吗，我说能取，取几个？指令字长，4个。
+ 然后开始提问算法，先问我各种排序，我说了选择、冒泡、归并、快速、桶、基数、堆。
+ 给出盒子的位置，状态与overlap()函数，尽量优的设计算法判断重叠，按照K-D Tree的思想，划分区域进行判断，盒子都在合并的轴上怎么办，想了一会，换一个轴
+ 用stack和queue互相实现一下，我想了好久没有想到O(1)的做法，事实上就是没有，希望别减分吧，用queue实现了一个stack，他又说可以优化，我很快的get到他的意思了，但是感觉应该一开始就想到这些的，不应该贪时间快，应该注意完成的质量。
+ 在使用$4\times4$矩阵进行旋转、缩放、移动transform的时候，哪些部分负责缩放，哪些部分负责移动，哪些部分负责旋转，第四行前三列负责移动，对角线负责缩放，上三角其他区域负责旋转。其实旋转的部分说错了，但是好像他没反应过来，应该是左上的$3\times3$矩阵，学东西一定要扎实，哭辽，使用罗德格里斯旋转公式。
+ 然后问了我怎样加速计算sin和cos 我说可以用表存，然后不清楚sin 和 cos内部是怎么计算的，如果可以的画可以存一部分算一部分，他就问我假如 只有 sin10 要算 sin 10.5怎么办，我说算 sin(10 + 0.5)。
+ 最后因为我刚才提到了欧拉角，他问我了为什么要用四元数，我太后悔了，今上午纠结了好久选择去看unity了没看四元数，我就跟他说了，不太清楚，但是确实在看四元数插值的文档，但是没看完，他说可能会产生死锁。
+ 最后有什么想要问我的 ”您是哪个工作室的？“ ”天美J1“.

总体来说，感觉自己还是太菜了，问了好多底层的东西，自己做的不好还是因为平常不求甚解的原因，之后要去看一下C++ primer 然后加紧学习图形学了，面试过程尽管很紧张，但是面试官问了的问题感觉让我学到了很多东西，总体来说是一次很愉快的面试经历，当然，希望有下一面呜呜呜呜呜，不过感觉很难了。